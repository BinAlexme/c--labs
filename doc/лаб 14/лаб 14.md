# **ЛАБОРАТОРНАЯ РАБОТА №14**
**“Элементы управления и диалоговые панели. Редактирование элементов рисунка"**

### **Задание**

1. ` `Дополнить раздел «Правка» меню программы командой  «Редактировать», при выборе которой должна открываться диалоговая панель, содержащая список элементов выбранного рисунка. Список должен отображаться в виде таблицы, содержащей следующие столбцы: номер элемента, тип фигуры, координаты начальной точки фигуры. При выборе определённой фигуры в указанном списке в другой панели, расположенной справа в том же окне,  должны отображаться элементы управления, содержащие набор  параметров выбранной фигуры с возможностью их редактирования. Состав элементов управления должен соответствовать типу фигуры. Например, цвет заливки должен отображаться и редактироваться только для фигур с заливкой и т.д. Для кривой список задающих  её точек должен выводится (и редактироваться) в одном поле ввода с использованием различных разделителей между координатами X-Y и между различными точками кривой.

1. Панель редактирования элементов рисунка должна содержать следующие кнопки:

«Удалить»  - удаление фигуры из рисунка.

«Добавить»  - добавление новой фигуры к рисунку. При этом должен выводится в отдельном окне список для выбора из доступных типов фигур.

«Сохранить» - сохранение заданных значений в массиве фигур рисунка.

«OK»  - закрытие панели редактирования.

Также в панели должны быть кнопки для изменения положения выбранной фигуры в общем списке (и в массиве) на шаг вверх, шаг вниз, в  начало, в конец списка. 

1. Должны редактироваться:

   Координаты фигур, цвет линии, фона, текста, размер линии, шрифт, набор точек кривой.

   После нажатия на кнопку «Сохранить» сделанные изменения должны отображаться в окне рисунка.

   Выбранная в списке фигура должна отображаться на рисунке как выделенная.


***Рекомендации***       

1	Для отображения списка фигур в виде таблицы следует использовать элемент управления ListView. Ознакомьтесь с описанием этого элемента и примерами его использования в справке MSDN. 

Следует задать значения следующие значения его свойствам 

View : Details, FullRowSelect : true, MultiSelect : false. 

Для обработки выбора в списке следует обрабатывать событие SelectedIndexChanged.



2	Для динамического формирования и отображения набора элементов управления, содержащих параметры фигуры, удобно использовать элемент FlowLayoutPanel, который автоматически размещает добавляемые в него элементы. Для принудительного перевода элемента на следующую строку в панели следует использовать метод SetFlowBreak.

3	Для обмена информацией между фигурами различного типа и панелью редактирования, удобно будет добавить к классу Figure  соответствующие виртуальные методы, создающие и принимающие массивы элементов управления (тип Control), соответствующие различным типам фигур. 

4 	Информацию о выбранном цвете и шрифте можно отображать в текстовом поле (TextBox). Чтобы передать в фигуры через эти элементы  ссылки на выбранные в диалогах объекты классов Color n Font, можно использовать свойство Tag элемента управления, в котором можно сохранять любую связанную с элементом объектную ссылку.

