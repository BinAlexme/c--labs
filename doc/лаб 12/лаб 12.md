# **ЛАБОРАТОРНАЯ РАБОТА №12**
**"Управление координатной сеткой."**
###

Задание

1  	Дополнить редактор возможностью включения /выключения отображения координатной сетки с регулируемым шагом. Сетка должна отображаться штриховой линией серого цвета единичной толщины.  Добавить в меню редактора соответствующие команды («Сетка» и «Шаг сетки» в раздел «Атрибуты»). Шаг сетки по умолчанию сделать 10x10 пикселей. Раздельно регулировать шаг сетки по  вертикальной и горизонтальной оси  не требуется. 

2 	Добавить в меню (в раздел «Правка») команду «Выровнять по сетке», которая должна  перемещать точки привязки всех фигур рисунка в узлы выбранной сетки. Реализовать эту операцию для всех фигур. Для прямоугольника, эллипса, линии должны выравниваться по сетке обе точки, определяющие фигуру. Для текстового блока – координаты, задающие границы блока. Для кривой следует разработать алгоритм, который разместит её начальную и конечную точки в узлах сетки, а координаты промежуточных точек изменит так, чтобы сохранить  форму и гладкость  кривой.

3. Добавить в меню «Атрибуты» команду-флаг «Привязка к сетке». При выборе этого режима добавляемые к рисунку новые фигуры должны сразу выравниваться по узлам сетки.		.


***Рекомендации***

Для выбора пользователем шага координатной сетки потребуется добавить к проекту соответствующую диалоговую панель.

`	`Изменение шага сетки и включение/выключение сетки должно относиться ко  всем открытым окнам рисунков и приводить к их перерисовке.

`	`При корректировке координат промежуточных точек кривой линии следует учитывать как дискретное смещение первой точки кривой в результате выравнивания, так и возможное изменение расстояния между первой и конечной точкой. Первое обстоятельство должно сразу вносить соответствующее смещение в координаты второй и следующих точек. Второе обстоятельство должно вносить в координаты точек кривой дополнительное смещение, пропорционально возрастающее по мере приближения к концу кривой. При выполнении  соответствующих вычислений может быть полезен метод, округляющий операнд двойной точности до ближайшего целого – Math.Round. Присваивание результата  выполнения этого округления переменной целого типа требует использования оператора явного приведения к целому.
